import { motion } from 'framer-motion';
import React from 'react';
import styled from 'styled-components';

const Container = styled(motion.div)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  touch-action: none;
  overflow: hidden;
  width: 100vw;
  height: 100vh;
  z-index: 6;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: #010026;

  svg {
    width: 10%;
    height: auto;
    overflow: visible;
    stroke-linejoin: round;
    stroke-linecap: round;
    stroke-width: 15;

    @media (max-width: 48em) {
      width: 20%;
    }
  }
`;

const Text = styled(motion.span)`
  font-size: 1.5rem;
  color: white;
  padding-top: 0.5rem;

  @media (max-width: 48em) {
    font-size: 1rem;
  }
`;

const pathVariants = {
  hidden: {
    pathLength: 0,
    fillOpacity: 0,
  },
  visible: {
    pathLength: 1,
    fillOpacity: 1,
    transition: {
      duration: 2,
      ease: 'easeInOut',
    },
  },
};

const Loader = () => {
  return (
    <Container
      initial={{ y: 0, opacity: 1 }}
      exit={{ y: '100%', opacity: 0 }}
      transition={{ duration: 1 }}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        viewBox="0 0 375 374.999991"
        preserveAspectRatio="xMidYMid meet"
        version="1.0"
      >
        <motion.g
          clipPath="url(#f9acabc454)"
          initial="hidden"
          animate="visible"
          variants={pathVariants}
        >
          <motion.path
            d="M22.144531 105.625L67.242188 105.625L128.105469 224.902344L105.558594 269.371094ZM103.859375 105.941406L148.957031 105.941406L209.066406 224.964844L186.644531 269.433594ZM253.664062 131.441406C253.664062 134.894531 252.972656 138.160156 251.652344 141.238281C250.332031 144.253906 248.511719 146.953125 246.25 149.277344C243.988281 151.601562 241.289062 153.363281 238.210938 154.679688C235.132812 156 231.867188 156.628906 228.351562 156.628906C224.894531 156.628906 221.566406 156 218.488281 154.679688C215.410156 153.363281 212.710938 151.601562 210.449219 149.277344C208.1875 146.953125 206.367188 144.316406 205.046875 141.238281C203.726562 138.222656 203.039062 134.957031 203.039062 131.441406C203.039062 127.988281 203.726562 124.65625 205.046875 121.578125C206.367188 118.503906 208.1875 115.800781 210.449219 113.539062C212.710938 111.277344 215.410156 109.457031 218.488281 108.136719C221.566406 106.820312 224.832031 106.128906 228.351562 106.128906C231.804688 106.128906 235.132812 106.820312 238.210938 108.136719C241.289062 109.457031 243.988281 111.277344 246.25 113.539062C248.511719 115.800781 250.332031 118.503906 251.652344 121.578125C252.972656 124.71875 253.664062 127.988281 253.664062 131.441406ZM253.664062 131.441406"
            fill="#ffffff"
          />
        </motion.g>
        <motion.g
          clipPath="url(#4310fccf3a)"
          initial="hidden"
          animate="visible"
          variants={pathVariants}
        >
          <motion.path
            d="M290.46875 222.578125C291.160156 216.484375 291.097656 210.832031 290.34375 205.554688C289.589844 200.28125 288.269531 195.632812 286.574219 191.613281C284.816406 187.59375 282.742188 184.203125 280.230469 181.4375C277.78125 178.675781 275.144531 176.851562 272.503906 175.910156C279.226562 175.910156 285.882812 177.039062 292.667969 179.238281C299.386719 181.4375 305.480469 184.578125 310.945312 188.597656C316.347656 192.617188 320.804688 197.578125 324.261719 203.359375C327.714844 209.136719 329.410156 215.542969 329.410156 222.578125C329.410156 228.042969 328.34375 233.128906 326.207031 237.902344C324.070312 242.613281 321.121094 246.949219 317.414062 250.71875C313.707031 254.546875 309.25 257.8125 304.097656 260.578125C298.949219 263.339844 293.421875 265.414062 287.453125 266.921875C281.488281 268.429688 275.207031 269.183594 268.546875 269.308594C261.890625 269.433594 255.234375 268.742188 248.511719 267.171875C251.902344 266.984375 255.859375 265.917969 260.320312 263.90625C264.78125 261.898438 269.113281 259.070312 273.257812 255.300781C277.40625 251.597656 281.109375 246.949219 284.3125 241.484375C287.515625 236.019531 289.589844 229.675781 290.46875 222.578125ZM290.46875 140.738281C290.46875 136.277344 290.027344 132.132812 289.148438 128.238281C288.269531 124.34375 287.078125 120.824219 285.507812 117.6875C283.9375 114.546875 282.050781 111.96875 279.855469 109.835938C277.65625 107.761719 275.207031 106.316406 272.503906 105.5625C279.226562 105.5625 285.882812 106.378906 292.667969 108.074219C299.386719 109.773438 305.480469 112.160156 310.945312 115.171875C316.347656 118.1875 320.804688 121.894531 324.261719 126.226562C327.714844 130.5625 329.410156 135.398438 329.410156 140.675781C329.410156 145.949219 327.714844 150.785156 324.261719 155.121094C320.804688 159.453125 316.410156 163.160156 310.945312 166.175781C305.542969 169.191406 299.449219 171.578125 292.667969 173.273438C285.945312 174.96875 279.226562 175.785156 272.503906 175.785156C274.765625 175.03125 276.964844 173.585938 279.164062 171.515625C281.363281 169.441406 283.246094 166.804688 284.941406 163.664062C286.636719 160.523438 287.957031 157.003906 288.960938 153.109375C289.964844 149.34375 290.46875 145.132812 290.46875 140.738281Z"
            fill="#fdcc49"
          />
        </motion.g>
      </svg>
      <Text
        initial={{ opacity: 0 }}
        animate={{ opacity: [0, 1, 0] }}
        transition={{ duration: 1, repeat: Infinity }}
      >
       Welcome to my portfolio
      </Text>
    </Container>
  );
};

export default Loader;
